PS D:\Backup\CrudeOil_NSSM_New\backup_2025-07-02_12-31-24> python -m mcx
C:\Users\rajiv\.pyenv\pyenv-win\versions\3.11.5\Lib\site-packages\win10toast\__init__.py:15: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import Requirement
2025-07-05 18:16:47,350 - INFO - [+] Instrument file is already present for today.
[WATCHDOG] Started monitoring: D:\Backup\CrudeOil_NSSM_New\backup_2025-07-02_12-31-24
2025-07-05 18:16:47,352 - INFO - 📂 Watchdog started on D:\Backup\CrudeOil_NSSM_New\backup_2025-07-02_12-31-24
2025-07-05 18:16:47,422 - INFO - 🔌 Initializing WebSocket connection...
2025-07-05 18:16:47,422 - INFO - OptimizedWebSocketHandler initialized
2025-07-05 18:16:47,424 - INFO - Supported OHLC intervals set to: ['1s', '5s', '10s', '30s', '1min', '5min']
2025-07-05 18:16:47,426 - INFO - Starting with native QuestDB preference...
2025-07-05 18:16:49,503 - INFO - ✅ PostgreSQL wire protocol connection established
2025-07-05 18:16:49,509 - INFO - ✅ QuestDB tables created/verified successfully.
2025-07-05 18:16:49,511 - INFO - ✅ QuestDB Manager started successfully with native server connection.
2025-07-05 18:16:49,513 - INFO - OptimizedDataManager started (PostgreSQL disabled temporarily)
2025-07-05 18:16:49,516 - INFO - OptimizedWebSocketHandler started with worker threads
2025-07-05 18:16:49,521 - INFO - ✅ Optimized components started successfully
[I 250705 18:16:49 smartConnect:124] in pool
2025-07-05 18:16:50,740 - INFO - Database tables verified/created
2025-07-05 18:16:50,742 - INFO - PostgreSQL Manager started
2025-07-05 18:16:50,742 - INFO - PostgreSQL Manager started successfully
2025-07-05 18:16:51,540 - INFO - === Starting Crude Oil ATM WebSocket with OHLC & Strategy Signal ===
2025-07-05 18:16:51,540 - INFO - ✅ WebSocket already initialized and running
2025-07-05 18:16:51,541 - INFO - Starting Flask-SocketIO server...
🚀 Starting Crude Oil Trading Bot...
📊 Dashboard: http://127.0.0.1:5000
🔬 Backtest UI: http://127.0.0.1:5000/backtest
⭐ Press Ctrl+C to stop
--------------------------------------------------
 * Serving Flask app 'mcx'
 * Debug mode: on
2025-07-05 18:16:51,569 - INFO - WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.29.14:5000
2025-07-05 18:16:51,569 - INFO - Press CTRL+C to quit
2025-07-05 18:16:51,569 - INFO -  * Restarting with watchdog (windowsapi)
2025-07-05 18:16:51,654 - WARNING - Broker running in DRY-RUN mode – no real orders will be placed.
2025-07-05 18:16:51,654 - INFO - Successfully logged in to SmartAPI
2025-07-05 18:16:51,793 - INFO - Websocket connected
2025-07-05 18:16:51,794 - INFO - ✅ WebSocket Connected
2025-07-05 18:16:52,844 - INFO - Market watch columns: ['Symbol', 'ProductCode', 'ExpiryDate', 'Unit', 'Open', 'Low', 'LTP', 'High', 'PreviousClose', 'AbsoluteChange', 'PercentChange', 'Volume', 'BuyQuantity', 'SellQuantity', 'OpenInterest', 'ValueInLacs', 'BuyPrice', 'SellPrice', 'InstrumentName', 'StrikePrice', 'OptionType', 'PremiumValue', 'NotionalValue', 'UnderlineValue', 'UnderlineContract']
2025-07-05 18:16:52,850 - INFO - Spot price from MCX nearest futures: 5690.0
2025-07-05 18:16:52,850 - INFO - Futures expiry: 21JUL2025
2025-07-05 18:16:52,851 - INFO - Calculated ATM strike: 5700
2025-07-05 18:16:53,280 - INFO - Options expiry: 17JUL2025
2025-07-05 18:16:53,738 - INFO - Found nearest futures token: 450134 for CRUDEOIL 19AUG2025 on MCX
2025-07-05 18:16:54,192 - INFO - Found option token: 455904 for symbol CRUDEOIL17JUL255700CE on MCX
2025-07-05 18:16:54,647 - INFO - Found option token: 455954 for symbol CRUDEOIL17JUL255700PE on MCX
C:\Users\rajiv\.pyenv\pyenv-win\versions\3.11.5\Lib\site-packages\win10toast\__init__.py:15: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import Requirement
2025-07-05 18:16:58,611 - INFO - [+] Instrument file is already present for today.
[WATCHDOG] Started monitoring: D:\Backup\CrudeOil_NSSM_New\backup_2025-07-02_12-31-24
2025-07-05 18:16:58,613 - INFO - 📂 Watchdog started on D:\Backup\CrudeOil_NSSM_New\backup_2025-07-02_12-31-24
2025-07-05 18:16:58,685 - INFO - 🔌 Initializing WebSocket connection...
2025-07-05 18:16:58,685 - INFO - OptimizedWebSocketHandler initialized
2025-07-05 18:16:58,689 - INFO - Supported OHLC intervals set to: ['1s', '5s', '10s', '30s', '1min', '5min']
2025-07-05 18:16:58,692 - INFO - Starting with native QuestDB preference...
2025-07-05 18:16:59,779 - INFO - Token 450134 belongs to exchange MCX
2025-07-05 18:16:59,799 - INFO - Token 455904 belongs to exchange MCX
2025-07-05 18:16:59,819 - INFO - Token 455954 belongs to exchange MCX
2025-07-05 18:16:59,819 - INFO - Added MCX subscription for tokens: ['450134', '455904', '455954']
2025-07-05 18:16:59,820 - INFO - Subscribing with token list: [{'exchangeType': 5, 'tokens': ['450134', '455904', '455954']}]
2025-07-05 18:16:59,821 - INFO - ✅ Subscribed to MCX tokens: ['450134', '455904', '455954']
2025-07-05 18:16:59,865 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '455904', 'sequence_number': 1257, 'exchange_timestamp': 1751678584362, 'last_traded_price': 13970, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 14883, 'volume_trade_for_the_day': 134948, 'total_buy_quantity': 369.0, 'total_sell_quantity': 1962.0, 'open_price_of_the_day': 16000, 'high_price_of_the_day': 17350, 'low_price_of_the_day': 12800, 'closed_price': 13970, 'last_traded_timestamp': 1751651999, 'open_interest': 10289, 'open_interest_change_percentage': -4586702901765680703, 'upper_circuit_limit': 76750, 'lower_circuit_limit': 490, '52_week_high_price': 98000, '52_week_low_price': 10010, 'best_5_buy_data': [{'flag': 1, 'quantity': 10613, 'price': 13100, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 10613, 'price': 13200, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:16:59,875 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '455954', 'sequence_number': 1240, 'exchange_timestamp': 1751678584362, 'last_traded_price': 15140, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 16317, 'volume_trade_for_the_day': 120101, 'total_buy_quantity': 189.0, 'total_sell_quantity': 1327.0, 'open_price_of_the_day': 15000, 'high_price_of_the_day': 17860, 'low_price_of_the_day': 13610, 'closed_price': 15140, 'last_traded_timestamp': 1751651999, 'open_interest': 6145, 'open_interest_change_percentage': -4586703068447362106, 'upper_circuit_limit': 78130, 'lower_circuit_limit': 1110, '52_week_high_price': 34800, '52_week_low_price': 9550, 'best_5_buy_data': [{'flag': 1, 'quantity': 6324, 'price': 13900, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 6324, 'price': 14000, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:16:59,880 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '450134', 'sequence_number': 12943, 'exchange_timestamp': 1751678824845, 'last_traded_price': 559600, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 559206, 'volume_trade_for_the_day': 1232, 'total_buy_quantity': 127.0, 'total_sell_quantity': 126.0, 'open_price_of_the_day': 561500, 'high_price_of_the_day': 563300, 'low_price_of_the_day': 555800, 'closed_price': 562800, 'last_traded_timestamp': 1751651960, 'open_interest': 4746, 'open_interest_change_percentage': -4586705114244317184, 'upper_circuit_limit': 581980, 'lower_circuit_limit': 537215, '52_week_high_price': 643500, '52_week_low_price': 495200, 'best_5_buy_data': [{'flag': 1, 'quantity': 4746, 'price': 559200, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 4746, 'price': 560000, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:17:00,742 - INFO - ✅ PostgreSQL wire protocol connection established
2025-07-05 18:17:00,751 - INFO - ✅ QuestDB tables created/verified successfully.
2025-07-05 18:17:00,775 - INFO - ✅ QuestDB Manager started successfully with native server connection.
2025-07-05 18:17:00,776 - INFO - OptimizedDataManager started (PostgreSQL disabled temporarily)
2025-07-05 18:17:00,780 - INFO - OptimizedWebSocketHandler started with worker threads
2025-07-05 18:17:00,782 - INFO - ✅ Optimized components started successfully
[I 250705 18:17:00 smartConnect:124] in pool
2025-07-05 18:17:02,057 - INFO - Database tables verified/created
2025-07-05 18:17:02,058 - INFO - PostgreSQL Manager started
2025-07-05 18:17:02,073 - INFO - PostgreSQL Manager started successfully
2025-07-05 18:17:02,802 - INFO - === Starting Crude Oil ATM WebSocket with OHLC & Strategy Signal ===
2025-07-05 18:17:02,802 - INFO - ✅ WebSocket already initialized and running
2025-07-05 18:17:02,816 - INFO - Starting Flask-SocketIO server...
🚀 Starting Crude Oil Trading Bot...
📊 Dashboard: http://127.0.0.1:5000
🔬 Backtest UI: http://127.0.0.1:5000/backtest
⭐ Press Ctrl+C to stop
--------------------------------------------------
2025-07-05 18:17:02,832 - WARNING -  * Debugger is active!
2025-07-05 18:17:02,853 - INFO -  * Debugger PIN: 111-635-233
2025-07-05 18:17:02,871 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:02,871 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:02,873 - INFO - Trying optimized handler for OHLC data...
2025-07-05 18:17:02,874 - INFO - Trying legacy aggregate method...
2025-07-05 18:17:02,874 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:02,876 - WARNING - Tick buffer is empty
2025-07-05 18:17:02,878 - INFO - Legacy OHLC Data sizes - Futures: 0, CE: 0, PE: 0
2025-07-05 18:17:02,885 - WARNING - No OHLC data found in any source - returning empty result
2025-07-05 18:17:02,881 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:02,886 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:02] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:02,886 - WARNING - Tick buffer is empty
2025-07-05 18:17:02,888 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {}, "info": {}}, "pe": {"signal": null, "indicators": {}, "info": {}}}
2025-07-05 18:17:02,890 - WARNING - No CE indicators found
2025-07-05 18:17:02,896 - WARNING - No PE indicators found
2025-07-05 18:17:02,900 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:02] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:02,910 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:02,915 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:02,912 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:02,917 - INFO - Trying optimized handler for OHLC data...
2025-07-05 18:17:02,918 - WARNING - Tick buffer is empty
2025-07-05 18:17:02,918 - INFO - Trying legacy aggregate method...
2025-07-05 18:17:02,919 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {}, "info": {}}, "pe": {"signal": null, "indicators": {}, "info": {}}}
2025-07-05 18:17:02,920 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:02,920 - WARNING - No CE indicators found
2025-07-05 18:17:02,920 - WARNING - Tick buffer is empty
2025-07-05 18:17:02,921 - WARNING - No PE indicators found
2025-07-05 18:17:02,922 - INFO - Legacy OHLC Data sizes - Futures: 0, CE: 0, PE: 0
2025-07-05 18:17:02,922 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:02] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:02,922 - WARNING - No OHLC data found in any source - returning empty result
2025-07-05 18:17:02,923 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:02] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:02,968 - WARNING - Broker running in DRY-RUN mode – no real orders will be placed.
2025-07-05 18:17:02,986 - INFO - Successfully logged in to SmartAPI
2025-07-05 18:17:03,134 - INFO - Websocket connected
2025-07-05 18:17:03,137 - INFO - ✅ WebSocket Connected
2025-07-05 18:17:03,739 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:03] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:04,041 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:04,041 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:04,047 - INFO - Trying optimized handler for OHLC data...
2025-07-05 18:17:04,049 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:04,049 - INFO - Trying legacy aggregate method...
2025-07-05 18:17:04,049 - WARNING - Tick buffer is empty
2025-07-05 18:17:04,050 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {}, "info": {}}, "pe": {"signal": null, "indicators": {}, "info": {}}}
2025-07-05 18:17:04,051 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:04,051 - WARNING - No CE indicators found
2025-07-05 18:17:04,051 - WARNING - Tick buffer is empty
2025-07-05 18:17:04,051 - WARNING - No PE indicators found
2025-07-05 18:17:04,052 - INFO - Legacy OHLC Data sizes - Futures: 0, CE: 0, PE: 0
2025-07-05 18:17:04,054 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:04] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:04,054 - WARNING - No OHLC data found in any source - returning empty result
2025-07-05 18:17:04,054 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:04] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:04,422 - INFO - Market watch columns: ['Symbol', 'ProductCode', 'ExpiryDate', 'Unit', 'Open', 'Low', 'LTP', 'High', 'PreviousClose', 'AbsoluteChange', 'PercentChange', 'Volume', 'BuyQuantity', 'SellQuantity', 'OpenInterest', 'ValueInLacs', 'BuyPrice', 'SellPrice', 'InstrumentName', 'StrikePrice', 'OptionType', 'PremiumValue', 'NotionalValue', 'UnderlineValue', 'UnderlineContract']
2025-07-05 18:17:04,431 - INFO - Spot price from MCX nearest futures: 5690.0
2025-07-05 18:17:04,431 - INFO - Futures expiry: 21JUL2025
2025-07-05 18:17:04,432 - INFO - Calculated ATM strike: 5700
2025-07-05 18:17:04,575 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:04] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:04,868 - INFO - Options expiry: 17JUL2025
2025-07-05 18:17:05,295 - INFO - Found nearest futures token: 450134 for CRUDEOIL 19AUG2025 on MCX
2025-07-05 18:17:05,655 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:05] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:05,727 - INFO - Found option token: 455904 for symbol CRUDEOIL17JUL255700CE on MCX
2025-07-05 18:17:06,146 - INFO - Found option token: 455954 for symbol CRUDEOIL17JUL255700PE on MCX
2025-07-05 18:17:09,038 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:09,038 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:09,045 - INFO - Trying optimized handler for OHLC data...
2025-07-05 18:17:09,047 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:09,049 - WARNING - Tick buffer is empty
2025-07-05 18:17:09,047 - INFO - Trying legacy aggregate method...
2025-07-05 18:17:09,053 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:09,053 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {}, "info": {}}, "pe": {"signal": null, "indicators": {}, "info": {}}}
2025-07-05 18:17:09,053 - WARNING - Tick buffer is empty
2025-07-05 18:17:09,054 - WARNING - No CE indicators found
2025-07-05 18:17:09,056 - INFO - Legacy OHLC Data sizes - Futures: 0, CE: 0, PE: 0
2025-07-05 18:17:09,057 - WARNING - No PE indicators found
2025-07-05 18:17:09,057 - WARNING - No OHLC data found in any source - returning empty result
2025-07-05 18:17:09,070 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:09] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:09,070 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:09] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:09,819 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:09] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:11,180 - INFO - Token 450134 belongs to exchange MCX
2025-07-05 18:17:11,201 - INFO - Token 455904 belongs to exchange MCX
2025-07-05 18:17:11,222 - INFO - Token 455954 belongs to exchange MCX
2025-07-05 18:17:11,222 - INFO - Added MCX subscription for tokens: ['450134', '455904', '455954']
2025-07-05 18:17:11,222 - INFO - Subscribing with token list: [{'exchangeType': 5, 'tokens': ['450134', '455904', '455954']}]
2025-07-05 18:17:11,224 - INFO - ✅ Subscribed to MCX tokens: ['450134', '455904', '455954']
2025-07-05 18:17:11,263 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '455904', 'sequence_number': 1257, 'exchange_timestamp': 1751678584362, 'last_traded_price': 13970, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 14883, 'volume_trade_for_the_day': 134948, 'total_buy_quantity': 369.0, 'total_sell_quantity': 1962.0, 'open_price_of_the_day': 16000, 'high_price_of_the_day': 17350, 'low_price_of_the_day': 12800, 'closed_price': 13970, 'last_traded_timestamp': 1751651999, 'open_interest': 10289, 'open_interest_change_percentage': -4586702901765680703, 'upper_circuit_limit': 76750, 'lower_circuit_limit': 490, '52_week_high_price': 98000, '52_week_low_price': 10010, 'best_5_buy_data': [{'flag': 1, 'quantity': 10613, 'price': 13100, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 10613, 'price': 13200, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:17:11,275 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '455954', 'sequence_number': 1240, 'exchange_timestamp': 1751678584362, 'last_traded_price': 15140, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 16317, 'volume_trade_for_the_day': 120101, 'total_buy_quantity': 189.0, 'total_sell_quantity': 1327.0, 'open_price_of_the_day': 15000, 'high_price_of_the_day': 17860, 'low_price_of_the_day': 13610, 'closed_price': 15140, 'last_traded_timestamp': 1751651999, 'open_interest': 6145, 'open_interest_change_percentage': -4586703068447362106, 'upper_circuit_limit': 78130, 'lower_circuit_limit': 1110, '52_week_high_price': 34800, '52_week_low_price': 9550, 'best_5_buy_data': [{'flag': 1, 'quantity': 6324, 'price': 13900, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 6324, 'price': 14000, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:17:11,277 - INFO - 📈 Tick: {'subscription_mode': 3, 'exchange_type': 5, 'token': '450134', 'sequence_number': 12943, 'exchange_timestamp': 1751678824845, 'last_traded_price': 559600, 'subscription_mode_val': 'SNAP_QUOTE', 'last_traded_quantity': 1, 'average_traded_price': 559206, 'volume_trade_for_the_day': 1232, 'total_buy_quantity': 127.0, 'total_sell_quantity': 126.0, 'open_price_of_the_day': 561500, 'high_price_of_the_day': 563300, 'low_price_of_the_day': 555800, 'closed_price': 562800, 'last_traded_timestamp': 1751651960, 'open_interest': 4746, 'open_interest_change_percentage': -4586705114244317184, 'upper_circuit_limit': 581980, 'lower_circuit_limit': 537215, '52_week_high_price': 643500, '52_week_low_price': 495200, 'best_5_buy_data': [{'flag': 1, 'quantity': 4746, 'price': 559200, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 1, 'quantity': 0, 'price': 0, 'no of orders': 0}], 'best_5_sell_data': [{'flag': 0, 'quantity': 4746, 'price': 560000, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}, {'flag': 0, 'quantity': 0, 'price': 0, 'no of orders': 0}]}
2025-07-05 18:17:14,046 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:14,047 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:14,069 - INFO - Data Manager: FUT OHLC has 1 data points
2025-07-05 18:17:14,083 - INFO - Data Manager: CE OHLC has 1 data points
2025-07-05 18:17:14,096 - INFO - Data Manager: PE OHLC has 1 data points
2025-07-05 18:17:14,097 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 3
2025-07-05 18:17:14,099 - INFO - Returning data from Data Manager - Total points: 3
2025-07-05 18:17:14,101 - INFO - Legacy tick buffer cleared after aggregation.
2025-07-05 18:17:14,109 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:14] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:14,113 - INFO - Split data sizes - FUT: 1, CE: 1, PE: 1
2025-07-05 18:17:14,134 - INFO - FUT OHLC created with 1 rows
2025-07-05 18:17:14,174 - INFO - CE OHLC created with 1 rows
2025-07-05 18:17:14,209 - INFO - PE OHLC created with 1 rows
2025-07-05 18:17:14,210 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {"fast_ema": 139.7, "slow_ema": 139.7, "rsi": null, "vwap": 139.7, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700CE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "CE"}}, "pe": {"signal": null, "indicators": {"fast_ema": 151.4, "slow_ema": 151.4, "rsi": null, "vwap": 151.4, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700PE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "PE"}}}
2025-07-05 18:17:14,214 - INFO - CE Indicators present:
2025-07-05 18:17:14,215 - INFO -   fast_ema: 139.7
2025-07-05 18:17:14,218 - INFO -   slow_ema: 139.7
2025-07-05 18:17:14,218 - INFO -   rsi: None
2025-07-05 18:17:14,219 - INFO -   vwap: 139.7
2025-07-05 18:17:14,219 - INFO -   atr: None
2025-07-05 18:17:14,221 - INFO -   macd: 0.0
2025-07-05 18:17:14,221 - INFO -   macd_signal: 0.0
2025-07-05 18:17:14,222 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:14,222 - INFO - PE Indicators present:
2025-07-05 18:17:14,222 - INFO -   fast_ema: 151.4
2025-07-05 18:17:14,223 - INFO -   slow_ema: 151.4
2025-07-05 18:17:14,223 - INFO -   rsi: None
2025-07-05 18:17:14,223 - INFO -   vwap: 151.4
2025-07-05 18:17:14,223 - INFO -   atr: None
2025-07-05 18:17:14,223 - INFO -   macd: 0.0
2025-07-05 18:17:14,223 - INFO -   macd_signal: 0.0
2025-07-05 18:17:14,224 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:14,224 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:14] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:14,993 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:14] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:19,049 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:26,405 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:19,840 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:19] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:19,054 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:26,422 - INFO - Data Manager: FUT OHLC has 1 data points
2025-07-05 18:17:26,441 - WARNING - Tick buffer is empty
2025-07-05 18:17:26,456 - INFO - Data Manager: CE OHLC has 1 data points
2025-07-05 18:17:26,459 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {"fast_ema": 139.7, "slow_ema": 139.7, "rsi": null, "vwap": 139.7, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700CE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "CE"}}, "pe": {"signal": null, "indicators": {"fast_ema": 151.4, "slow_ema": 151.4, "rsi": null, "vwap": 151.4, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700PE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "PE"}}}
2025-07-05 18:17:26,482 - INFO - Data Manager: PE OHLC has 1 data points
2025-07-05 18:17:26,487 - INFO - Returning data from Data Manager - Total points: 3
2025-07-05 18:17:26,488 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:26] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:26,483 - INFO - CE Indicators present:
2025-07-05 18:17:26,489 - INFO -   fast_ema: 139.7
2025-07-05 18:17:26,490 - INFO -   slow_ema: 139.7
2025-07-05 18:17:26,490 - INFO -   rsi: None
2025-07-05 18:17:26,490 - INFO -   vwap: 139.7
2025-07-05 18:17:26,490 - INFO -   atr: None
2025-07-05 18:17:26,490 - INFO -   macd: 0.0
2025-07-05 18:17:26,491 - INFO -   macd_signal: 0.0
2025-07-05 18:17:26,491 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:26,491 - INFO - PE Indicators present:
2025-07-05 18:17:26,491 - INFO -   fast_ema: 151.4
2025-07-05 18:17:26,491 - INFO -   slow_ema: 151.4
2025-07-05 18:17:26,492 - INFO -   rsi: None
2025-07-05 18:17:26,492 - INFO -   vwap: 151.4
2025-07-05 18:17:26,492 - INFO -   atr: None
2025-07-05 18:17:26,492 - INFO -   macd: 0.0
2025-07-05 18:17:26,492 - INFO -   macd_signal: 0.0
2025-07-05 18:17:26,493 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:26,493 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:26] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:26,498 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:26,504 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:26,523 - INFO - Data Manager: FUT OHLC has 1 data points
2025-07-05 18:17:26,526 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:26,539 - INFO - Data Manager: CE OHLC has 1 data points
2025-07-05 18:17:26,544 - WARNING - Tick buffer is empty
2025-07-05 18:17:26,560 - INFO - Data Manager: PE OHLC has 1 data points
2025-07-05 18:17:26,561 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {"fast_ema": 139.7, "slow_ema": 139.7, "rsi": null, "vwap": 139.7, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700CE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "CE"}}, "pe": {"signal": null, "indicators": {"fast_ema": 151.4, "slow_ema": 151.4, "rsi": null, "vwap": 151.4, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700PE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "PE"}}}
2025-07-05 18:17:26,562 - INFO - CE Indicators present:
2025-07-05 18:17:26,561 - INFO - Returning data from Data Manager - Total points: 3
2025-07-05 18:17:26,562 - INFO -   fast_ema: 139.7
2025-07-05 18:17:26,563 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:26] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:26,564 - INFO -   slow_ema: 139.7
2025-07-05 18:17:26,564 - INFO -   rsi: None
2025-07-05 18:17:26,565 - INFO -   vwap: 139.7
2025-07-05 18:17:26,565 - INFO -   atr: None
2025-07-05 18:17:26,565 - INFO -   macd: 0.0
2025-07-05 18:17:26,565 - INFO -   macd_signal: 0.0
2025-07-05 18:17:26,565 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:26,566 - INFO - PE Indicators present:
2025-07-05 18:17:26,566 - INFO -   fast_ema: 151.4
2025-07-05 18:17:26,566 - INFO -   slow_ema: 151.4
2025-07-05 18:17:26,566 - INFO -   rsi: None
2025-07-05 18:17:26,566 - INFO -   vwap: 151.4
2025-07-05 18:17:26,566 - INFO -   atr: None
2025-07-05 18:17:26,566 - INFO -   macd: 0.0
2025-07-05 18:17:26,566 - INFO -   macd_signal: 0.0
2025-07-05 18:17:26,567 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:26,567 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:26] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:27,407 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:27] "GET /info HTTP/1.1" 200 -
2025-07-05 18:17:29,047 - INFO - Getting OHLC data with interval: 5s, limit: 100
2025-07-05 18:17:29,049 - INFO - Using data manager for OHLC data...
2025-07-05 18:17:29,068 - INFO - Data Manager: FUT OHLC has 1 data points
2025-07-05 18:17:29,084 - INFO - Data Manager: CE OHLC has 1 data points
2025-07-05 18:17:29,100 - INFO - Data Manager: PE OHLC has 1 data points
2025-07-05 18:17:29,101 - INFO - Returning data from Data Manager - Total points: 3
2025-07-05 18:17:29,104 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:29] "GET /ohlc?interval=5s HTTP/1.1" 200 -
2025-07-05 18:17:29,105 - INFO - Aggregating OHLC data with interval 5s. Tick buffer size: 0
2025-07-05 18:17:29,107 - WARNING - Tick buffer is empty
2025-07-05 18:17:29,110 - INFO - Full strategy status response: {"ce": {"signal": null, "indicators": {"fast_ema": 139.7, "slow_ema": 139.7, "rsi": null, "vwap": 139.7, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700CE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "CE"}}, "pe": {"signal": null, "indicators": {"fast_ema": 151.4, "slow_ema": 151.4, "rsi": null, "vwap": 151.4, "atr": null, "macd": 0.0, "macd_signal": 0.0, "market_regime": "UNKNOWN"}, "info": {"symbol": "CRUDEOIL17JUL255700PE", "strike": 570000.0, "expiry": "17JUL2025", "lotsize": "100", "optiontype": "PE"}}}
2025-07-05 18:17:29,110 - INFO - CE Indicators present:
2025-07-05 18:17:29,110 - INFO -   fast_ema: 139.7
2025-07-05 18:17:29,111 - INFO -   slow_ema: 139.7
2025-07-05 18:17:29,111 - INFO -   rsi: None
2025-07-05 18:17:29,112 - INFO -   vwap: 139.7
2025-07-05 18:17:29,112 - INFO -   atr: None
2025-07-05 18:17:29,112 - INFO -   macd: 0.0
2025-07-05 18:17:29,112 - INFO -   macd_signal: 0.0
2025-07-05 18:17:29,113 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:29,113 - INFO - PE Indicators present:
2025-07-05 18:17:29,113 - INFO -   fast_ema: 151.4
2025-07-05 18:17:29,113 - INFO -   slow_ema: 151.4
2025-07-05 18:17:29,113 - INFO -   rsi: None
2025-07-05 18:17:29,114 - INFO -   vwap: 151.4
2025-07-05 18:17:29,114 - INFO -   atr: None
2025-07-05 18:17:29,114 - INFO -   macd: 0.0
2025-07-05 18:17:29,114 - INFO -   macd_signal: 0.0
2025-07-05 18:17:29,114 - INFO -   market_regime: UNKNOWN
2025-07-05 18:17:29,114 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:29] "GET /strategy_status HTTP/1.1" 200 -
2025-07-05 18:17:29,986 - INFO - 127.0.0.1 - - [05/Jul/2025 18:17:29] "GET /info HTTP/1.1" 200 -
